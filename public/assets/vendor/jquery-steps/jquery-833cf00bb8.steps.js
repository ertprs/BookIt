/*! 
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
!function(e,n){e.fn.extend({_aria:function(e,n){return this.attr("aria-"+e,n)},_removeAria:function(e){return this.removeAttr("aria-"+e)},_enableAria:function(e){return null==e||e?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(e){return null==e||e?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(e){return null==e||e?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(e){return e?this.attr("id",e):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var n=1===arguments.length&&e.isArray(arguments[0])?arguments[0]:arguments,t=this,r=0;r<n.length;r++){var a=new RegExp("\\{"+r+"\\}","gm");t=t.replace(a,n[r])}return t});var t=0;function r(n,t,r){var a=n.children(t.headerTag),i=n.children(t.bodyTag);a.length>i.length?E("One or more corresponding step {0} are missing.","contents"):a.length<i.length&&E("One or more corresponding step {0} are missing.","titles");var s=t.startIndex;if(r.stepCount=a.length,t.saveState&&e.cookie){var o=e.cookie("jQu3ry_5teps_St@te_"+f(n)),d=parseInt(o,0);!isNaN(d)&&d<r.stepCount&&(s=d)}r.currentIndex=s,a.each((function(t){var r=e(this),a=i.eq(t),s=a.data("mode"),o=null==s?N.html:p(N,/^\s*$/.test(s)||isNaN(s)?s:parseInt(s,0)),d=o===N.html||void 0===a.data("url")?"":a.data("url"),l=o!==N.html&&"1"===a.data("loaded"),c=e.extend({},B,{title:r.html(),content:o===N.html?a.html():"",contentUrl:d,contentMode:o,contentLoaded:l});!function(e,n){u(e).push(n)}(n,c)}))}function a(e,n){var t=e.find(".steps li").eq(n.currentIndex);e.triggerHandler("finishing",[n.currentIndex])?(t.addClass("done").removeClass("error"),e.triggerHandler("finished",[n.currentIndex])):t.addClass("error")}function i(e){var n=e.data("eventNamespace");return null==n&&(n="."+f(e),e.data("eventNamespace",n)),n}function s(e,n){var t=f(e);return e.find("#"+t+"-t-"+n)}function o(e,n){var t=f(e);return e.find("#"+t+"-p-"+n)}function d(e){return e.data("options")}function l(e){return e.data("state")}function u(e){return e.data("steps")}function c(e,n){var t=u(e);return(n<0||n>=t.length)&&E("Index out of range."),t[n]}function f(e){var n=e.data("uid");return null==n&&(null==(n=e._id())&&(n="steps-uid-".concat(t),e._id(n)),t++,e.data("uid",n)),n}function p(e,n){if(M("enumType",e),M("keyOrValue",n),"string"==typeof n){var t=e[n];return void 0===t&&E("The enum key '{0}' does not exist.",n),t}if("number"==typeof n){for(var r in e)if(e[r]===n)return n;E("Invalid enum value '{0}'.",n)}else E("Invalid key or value type.")}function h(e,n,t){return I(e,n,t,function(e,n){return e.currentIndex+n}(t,1))}function v(e,n,t){return I(e,n,t,function(e,n){return e.currentIndex-n}(t,1))}function m(n,t,r,a){if((a<0||a>=r.stepCount)&&E("Index out of range."),!(t.forceMoveForward&&a<r.currentIndex)){var i=r.currentIndex;return n.triggerHandler("stepChanging",[r.currentIndex,a])?(r.currentIndex=a,q(n,t,r),A(n,t,r,i),_(n,t,r),x(n,t,r),function(n,t,r,a,i,s){var o=n.find(".content > .body"),d=p(L,t.transitionEffect),u=t.transitionEffectSpeed,c=o.eq(a),f=o.eq(i);switch(d){case L.fade:case L.slide:var h=d===L.fade?"fadeOut":"slideUp",v=d===L.fade?"fadeIn":"slideDown";r.transitionElement=c,f[h](u,(function(){var n=l(e(this)._showAria(!1).parent().parent());n.transitionElement&&(n.transitionElement[v](u,(function(){e(this)._showAria()})).promise().done(s),n.transitionElement=null)}));break;case L.slideLeft:var m=f.outerWidth(!0),g=a>i?-m:m,C=a>i?m:-m;e.when(f.animate({left:g},u,(function(){e(this)._showAria(!1)})),c.css("left",C+"px")._showAria().animate({left:0},u)).done(s);break;default:e.when(f._showAria(!1),c._showAria()).done(s)}}(n,t,r,a,i,(function(){n.triggerHandler("stepChanged",[a,i])}))):n.find(".steps li").eq(i).addClass("error"),!0}}function g(n){var a=e.extend(!0,{},H,n);return this.each((function(){var n=e(this),o={currentIndex:a.startIndex,currentStep:null,stepCount:0,transitionElement:null};n.data("options",a),n.data("state",o),n.data("steps",[]),r(n,a,o),function(n,t,r){var a=p(O,t.stepsOrientation)===O.vertical?" vertical":"",i=e('<{0} class="{1}">{2}</{0}>'.format(t.contentContainerTag,"content "+t.clearFixCssClass,n.html())),s=e('<{0} class="{1}">{2}</{0}>'.format(t.stepsContainerTag,"steps "+t.clearFixCssClass,'<ul role="tablist"></ul>')),o=i.children(t.headerTag),d=i.children(t.bodyTag);n.attr("role","application").empty().append(s).append(i).addClass(t.cssClass+" "+t.clearFixCssClass+a),d.each((function(t){T(n,r,e(this),t)})),o.each((function(a){S(n,t,r,e(this),a)})),A(n,t,r),function(e,n,t){if(n.enablePagination){var r='<li><a href="#{0}" role="menuitem">{1}</a></li>',a="";n.forceMoveForward||(a+=r.format("previous",n.labels.previous)),a+=r.format("next",n.labels.next),n.enableFinishButton&&(a+=r.format("finish",n.labels.finish)),n.enableCancelButton&&(a+=r.format("cancel",n.labels.cancel)),e.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(n.actionContainerTag,n.clearFixCssClass,n.labels.pagination,a)),_(e,n,t),x(e,n,t)}}(n,t,r)}(n,a,o),function(e,n){var t=i(e);e.bind("canceled"+t,n.onCanceled),e.bind("contentLoaded"+t,n.onContentLoaded),e.bind("finishing"+t,n.onFinishing),e.bind("finished"+t,n.onFinished),e.bind("init"+t,n.onInit),e.bind("stepChanging"+t,n.onStepChanging),e.bind("stepChanged"+t,n.onStepChanged),n.enableKeyNavigation&&e.bind("keyup"+t,b);e.find(".actions a").bind("click"+t,y)}(n,a),a.autoFocus&&0===t&&s(n,a.startIndex).focus(),n.triggerHandler("init",[a.startIndex])}))}function C(n,t,r,a,i){(a<0||a>r.stepCount)&&E("Index out of range."),function(e,n,t){u(e).splice(n,0,t)}(n,a,i=e.extend({},B,i)),r.currentIndex!==r.stepCount&&r.currentIndex>=a&&(r.currentIndex++,q(n,t,r)),r.stepCount++;var s=n.find(".content"),d=e("<{0}>{1}</{0}>".format(t.headerTag,i.title)),l=e("<{0}></{0}>".format(t.bodyTag));return null!=i.contentMode&&i.contentMode!==N.html||l.html(i.content),0===a?s.prepend(l).prepend(d):o(n,a-1).after(l).after(d),T(n,r,l,a),S(n,t,r,d,a),w(n,t,r,a),a===r.currentIndex&&A(n,t,r),_(n,t,r),n}function b(n){var t=e(this),r=d(t),a=l(t);if(r.suppressPaginationOnFocus&&t.find(":focus").is(":input"))return n.preventDefault(),!1;var i=37,s=39;n.keyCode===i?(n.preventDefault(),v(t,r,a)):n.keyCode===s&&(n.preventDefault(),h(t,r,a))}function x(n,t,r){if(r.stepCount>0){var a=r.currentIndex,i=c(n,a);if(!t.enableContentCache||!i.contentLoaded)switch(p(N,i.contentMode)){case N.iframe:n.find(".content > .body").eq(r.currentIndex).empty().html('<iframe src="'+i.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case N.async:var s=o(n,a)._aria("busy","true").empty().append(k(t.loadingTemplate,{text:t.labels.loading}));e.ajax({url:i.contentUrl,cache:!1}).done((function(e){s.empty().html(e)._aria("busy","false").data("loaded","1"),n.triggerHandler("contentLoaded",[a])}))}}}function I(e,n,t,r){var a=t.currentIndex;if(r>=0&&r<t.stepCount&&!(n.forceMoveForward&&r<t.currentIndex)){var i=s(e,r),o=i.parent(),d=o.hasClass("disabled");return o._enableAria(),i.click(),a!==t.currentIndex||!d||(o._enableAria(!1),!1)}return!1}function y(n){n.preventDefault();var t=e(this),r=t.parent().parent().parent().parent(),i=d(r),s=l(r),o=t.attr("href");switch(o.substring(o.lastIndexOf("#")+1)){case"cancel":!function(e){e.triggerHandler("canceled")}(r);break;case"finish":a(r,s);break;case"next":h(r,i,s);break;case"previous":v(r,i,s)}}function _(e,n,t){if(n.enablePagination){var r=e.find(".actions a[href$='#finish']").parent(),a=e.find(".actions a[href$='#next']").parent();if(!n.forceMoveForward)e.find(".actions a[href$='#previous']").parent()._enableAria(t.currentIndex>0);n.enableFinishButton&&n.showFinishButtonAlways?(r._enableAria(t.stepCount>0),a._enableAria(t.stepCount>1&&t.stepCount>t.currentIndex+1)):(r._showAria(n.enableFinishButton&&t.stepCount===t.currentIndex+1),a._showAria(0===t.stepCount||t.stepCount>t.currentIndex+1)._enableAria(t.stepCount>t.currentIndex+1||!n.enableFinishButton))}}function A(n,t,r,a){var i=s(n,r.currentIndex),o=e('<span class="current-info audible">'+t.labels.current+" </span>"),d=n.find(".content > .title");if(null!=a){var l=s(n,a);l.parent().addClass("done").removeClass("error")._selectAria(!1),d.eq(a).removeClass("current").next(".body").removeClass("current"),o=l.find(".current-info"),i.focus()}i.prepend(o).parent()._selectAria().removeClass("done")._enableAria(),d.eq(r.currentIndex).addClass("current").next(".body").addClass("current")}function w(e,n,t,r){for(var a=f(e),i=r;i<t.stepCount;i++){var s=a+"-t-"+i,o=a+"-p-"+i,d=a+"-h-"+i,l=e.find(".title").eq(i)._id(d);e.find(".steps a").eq(i)._id(s)._aria("controls",o).attr("href","#"+d).html(k(n.titleTemplate,{index:i+1,title:l.html()})),e.find(".body").eq(i)._id(o)._aria("labelledby",d)}}function F(e,n,t,r){return!(r<0||r>=t.stepCount||t.currentIndex===r)&&(function(e,n){u(e).splice(n,1)}(e,r),t.currentIndex>r&&(t.currentIndex--,q(e,n,t)),t.stepCount--,function(e,n){var t=f(e);return e.find("#"+t+"-h-"+n)}(e,r).remove(),o(e,r).remove(),s(e,r).parent().remove(),0===r&&e.find(".steps li").first().addClass("first"),r===t.stepCount&&e.find(".steps li").eq(r).addClass("last"),w(e,n,t,r),_(e,n,t),!0)}function T(e,n,t,r){var a=f(e),i=a+"-p-"+r,s=a+"-h-"+r;t._id(i).attr("role","tabpanel")._aria("labelledby",s).addClass("body")._showAria(n.currentIndex===r)}function k(e,n){for(var t=e.match(/#([a-z]*)#/gi),r=0;r<t.length;r++){var a=t[r],i=a.substring(1,a.length-1);void 0===n[i]&&E("The key '{0}' does not exist in the substitute collection!",i),e=e.replace(a,n[i])}return e}function S(n,t,r,a,s){var o=f(n),d=o+"-t-"+s,l=o+"-p-"+s,u=o+"-h-"+s,c=n.find(".steps > ul"),p=k(t.titleTemplate,{index:s+1,title:a.html()}),h=e('<li role="tab"><a id="'+d+'" href="#'+u+'" aria-controls="'+l+'">'+p+"</a></li>");h._enableAria(t.enableAllSteps||r.currentIndex>s),r.currentIndex>s&&h.addClass("done"),a._id(u).attr("tabindex","-1").addClass("title"),0===s?c.prepend(h):c.find("li").eq(s-1).after(h),0===s&&c.find("li").removeClass("first").eq(s).addClass("first"),s===r.stepCount-1&&c.find("li").removeClass("last").eq(s).addClass("last"),h.children("a").bind("click"+i(n),D)}function q(n,t,r){t.saveState&&e.cookie&&e.cookie("jQu3ry_5teps_St@te_"+f(n),r.currentIndex)}function D(n){n.preventDefault();var t=e(this),r=t.parent().parent().parent().parent(),a=d(r),i=l(r),o=i.currentIndex;if(t.parent().is(":not(.disabled):not(.current)")){var u=t.attr("href");m(r,a,i,parseInt(u.substring(u.lastIndexOf("-")+1),0))}if(o===i.currentIndex)return s(r,o).focus(),!1}function E(e){throw arguments.length>1&&(e=e.format(Array.prototype.slice.call(arguments,1))),new Error(e)}function M(e,n){null==n&&E("The argument '{0}' is null or undefined.",e)}e.fn.steps=function(n){return e.fn.steps[n]?e.fn.steps[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.steps"):g.apply(this,arguments)},e.fn.steps.add=function(e){var n=l(this);return C(this,d(this),n,n.stepCount,e)},e.fn.steps.destroy=function(){return function(n,t){var r=i(n);n.unbind(r).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(r),n.removeClass(t.clearFixCssClass+" vertical");var a=n.find(".content > *");a.removeData("loaded").removeData("mode").removeData("url"),a.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),n.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var s=e('<{0} class="{1}"></{0}>'.format(n.get(0).tagName,n.attr("class"))),o=n._id();return null!=o&&""!==o&&s._id(o),s.html(n.find(".content").html()),n.after(s),n.remove(),s}(this,d(this))},e.fn.steps.finish=function(){a(this,l(this))},e.fn.steps.getCurrentIndex=function(){return l(this).currentIndex},e.fn.steps.getCurrentStep=function(){return c(this,l(this).currentIndex)},e.fn.steps.getStep=function(e){return c(this,e)},e.fn.steps.insert=function(e,n){return C(this,d(this),l(this),e,n)},e.fn.steps.next=function(){return h(this,d(this),l(this))},e.fn.steps.previous=function(){return v(this,d(this),l(this))},e.fn.steps.remove=function(e){return F(this,d(this),l(this),e)},e.fn.steps.setStep=function(e,n){throw new Error("Not yet implemented!")},e.fn.steps.skip=function(e){throw new Error("Not yet implemented!")};var N=e.fn.steps.contentMode={html:0,iframe:1,async:2},O=e.fn.steps.stepsOrientation={horizontal:0,vertical:1},L=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},B=e.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:N.html,contentLoaded:!1},H=e.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:O.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:L.none,transitionEffectSpeed:200,onStepChanging:function(e,n,t){return!0},onStepChanged:function(e,n,t){},onCanceled:function(e){},onFinishing:function(e,n){return!0},onFinished:function(e,n){},onContentLoaded:function(e,n){},onInit:function(e,n){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery);